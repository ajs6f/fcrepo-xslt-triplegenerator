<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at Jun 26, 2013 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>fcrepo-xslt-triplegenerator - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20130626" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                fcrepo-xslt-triplegenerator
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">Last Published: 2013-06-26</span>
                  &nbsp;| <span id="projectVersion">Version: 0.0.1-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="http://fedora-commons.org" class="externalLink" title="Fedora">Fedora</a>
            |
                        <a href="http://www.library.virginia.edu" class="externalLink" title="UVa">UVa</a>
              
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                <h5>Main</h5>
                  <ul>
                  <li class="none">
                          <a href="motivation.html" title="Motivation">Motivation</a>
            </li>
                  <li class="none">
                          <a href="warnings.html" title="Warnings">Warnings</a>
            </li>
                  <li class="none">
                          <a href="configuration.html" title="Configuration">Configuration</a>
            </li>
                  <li class="none">
            <strong>XSLT Usage</strong>
          </li>
                  <li class="none">
                          <a href="examples.html" title="Examples">Examples</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                  <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
    
        <div class="section"><h2>Rules for constructing XSLT for use with this component<a name="Rules_for_constructing_XSLT_for_use_with_this_component"></a></h2>
            <p>
                XSLT for use with this component must fulfill certain conditions. 
            </p>
            <ol style="list-style-type: decimal">
                <li>It must transform a single XML metadata document into a single RDF/XML document.</li>
                <li>The RDF-subjects used in the output document must be of a few possible types:
                    <ol style="list-style-type: decimal">
                        <li>The Fedora URI of the object in question (<tt>info:fedora/some:pid123</tt>).</li>
                        <li>The Fedora URI of a datastream in the object in question (<tt>info:fedora/some:pid123/descMetadata</tt>).</li>
                        <li>An URI that is not used as a subject in triples generated from <i>any</i> other object. This is the most subtle case.
                            It would be best to either stick to subjects obeying the first two conditions or to 
                            use UUIDs or other systems for generating IDs with low likelihood of collision. For example,
                        using the pid and datastream of the object and a token as input to a deterministic hash function, however simple. (See below for
                        an example.)</li>
                    </ol>
                </li>
            </ol>
            <p>The danger of violating the last condition is that various objects producing triples with subjects that
           collide or conflict with each other will create broken updating behavior for the Resource Index. For an example, take two objects, each of which
            produces a triple: <tt>&lt;http://books.org/TomSawyer&gt; hasAuthor &lt;http://people.org/MarkTwain&gt;.</tt>. The Resource Index
            will contain only one copy of the triple (since triples with identical subject, predicate, and object are identical). When
            one of the objects is purged, the triple will be purged. But the other object (still in the repo) will still require the existence
            of the triple for the Resource Index to accurately portray the contents of the repository. This is essentially the reason that the normal
            Fedora API and the conditions of validity for RELS-EXT and RELS-INT do not allow these kinds of subjects.</p>
        </div>
        <div class="section"><h2>Blank nodes<a name="Blank_nodes"></a></h2>
            <p>
                For some kinds of complex description in RDF, it is desired to use blank nodes (unidentified nodes). Partly
                because this component and much of Fedora's internal machinery
                do not deal in RDF documents, but in sets of triples, it's not possible to make guarantees about how blank
                nodes will be handled. So in places where you might like to use blank nodes, you'll have to use (automatically)
                generated IDs instead. For example, to insert an automatically identified node into some RDF/XML, you might incant:
            </p>
            <div class="source"><pre>
    
        &lt;rdf:RDF&gt;
            &lt;!-- we avoid using a blank node --&gt;
            &lt;xsl:variable name=&quot;blanknode1&quot; select=&quot;concat('info:fedora/',$pid,'/blank/1')&quot;/&gt;
            &lt;rdf:Description rdf:about=&quot;info:fedora/{pid}&quot;&gt;
                &lt;myns:somePredicate rdf:resource=&quot;{$blanknode1}&quot;/&gt;
            &lt;/rdf:Description&gt;
            &lt;rdf:Description rdf:about=&quot;{$blanknode1}&quot;&gt;
                &lt;myns:someOtherPredicate rdf:resource=&quot;http://example.com/x&quot;/&gt;
                &lt;myns:aThirdPredicate rdf:resource=&quot;http://example.com/y&quot;/&gt;
            &lt;/rdf:Description&gt;
        &lt;/rdf:RDF&gt;
    
            </pre></div>
            <p>
                This technique amounts to a kind of
                <a class="externalLink" href="http://answers.semanticweb.com/questions/8336/what-is-skolemization">Skolemization</a>.
            </p>
        </div>
    

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2012-2013.
          All Rights Reserved.      
            
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
